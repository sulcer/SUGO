import React from 'react';
import Head from 'next/head';
import { MachineParkGallery } from '@/components';
import Headline from "@/components/Headline/Headline";
import {getMachinePark} from "@/lib/api";
import {motion} from "framer-motion";
import {useTranslation} from "next-i18next";
import {serverSideTranslations} from "next-i18next/serverSideTranslations";
import {Locale} from "@/types/types";

const MachineParkPage = (props: any) => {
    const { t } = useTranslation('common');

    return (
        <>
            <Head>
                <title>{t('')}</title>
                <meta name="description" content="Generated by create next app" />
                <meta name="viewport" content="width=device-width, initial-scale=1" />
                <link rel="icon" href="/favicon.ico" />
            </Head>
            <motion.div animate={{ x: 0 }} initial={{ x: -100, speed: 5 }}>
                <Headline description={t('machine-park-text')} title={t('machine-park')}/>
            </motion.div>
            <MachineParkGallery machinePark={props.machinePark.data}/>
        </>
    );
};

export async function getStaticProps({ locale }: Locale) {
    const machinePark = await getMachinePark({locale});

    return {
        props: {
            ...await serverSideTranslations(locale, ['common']),
            machinePark,
        },
    };
}

export default MachineParkPage;